package event

// SystemEvent is used for system events not generated by openHAB
type SystemEvent struct {
	eventType Type
	message   string
}

// NewSystemEvent creates ClientStart, ClientConnected, ClientDisconnected and ClientStop event types
func NewSystemEvent(eventType Type) SystemEvent {
	return SystemEvent{
		eventType: eventType,
	}
}

// NewErrorEvent creates ClientError event type
func NewErrorEvent(errorMessage string) SystemEvent {
	return SystemEvent{
		eventType: TypeClientError,
		message:   errorMessage,
	}
}

// Topic is empty on most SystemEvent, except for ClientError where it contains the error message
func (e SystemEvent) Topic() string {
	return e.message
}

// Type is either ClientStart, ClientConnected, ClientDisconnected, ClientStop or ClientError
func (e SystemEvent) Type() Type {
	return e.eventType
}

var _ Event = &SystemEvent{}
